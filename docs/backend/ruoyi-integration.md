# 若依后端集成测试指南

## 🎯 当前状态
您已经完成了若依后端的基础集成配置，现在需要测试连接并开始开发龙舟投票相关功能。

## 📋 测试步骤

### 1. 确保若依后端运行
```bash
# 在若依后端项目目录执行
java -jar ruoyi-admin.jar
# 或者通过IDE启动 RuoYiApplication
```
后端应该运行在: http://localhost:8080

### 2. 启动前端项目
```powershell
# 方式1: 使用启动脚本 (推荐)
.\start-dev.ps1

# 方式2: 直接启动
npm run dev

# 方式3: 如果遇到编码问题，使用以下命令
powershell -ExecutionPolicy Bypass -File start-dev.ps1
```

### 3. 在浏览器中测试后端连接
打开浏览器控制台 (F12)，运行以下命令：

```javascript
// 测试基础连接
window.testBackendConnection()

// 测试现有的图书管理接口
window.testBookApi()

// 查看当前后端配置
console.log('后端配置:', window.location.origin)
```

## 🔧 常见问题解决

### 问题1: 跨域错误 (CORS)
**解决方案**: 在若依后端配置文件中添加前端域名到CORS允许列表

### 问题2: 连接被拒绝
**检查项**:
- 后端服务是否已启动
- 端口8080是否被占用
- 防火墙是否阻止连接

### 问题3: 401未授权错误
**说明**: 正常现象，因为我们还没有实现认证。微信小程序版本将跳过传统登录。

## 🚀 下一步开发计划

### 阶段1: 验证当前集成 ✅
- [x] 配置axios请求拦截器
- [x] 创建API接口定义
- [x] 配置Pinia存储
- [x] 测试后端连接 ✅ **若依后端正常运行**
- [x] 验证现有接口 ✅ **认证系统工作正常**

### 阶段2: 实现龙舟业务逻辑
- [ ] 在若依后端创建龙舟队伍管理模块
- [ ] 实现投票业务逻辑
- [ ] 创建排行榜接口
- [ ] 集成微信小程序认证

### 阶段3: 微信小程序适配
- [ ] 调整UI组件为移动端适配
- [ ] 实现微信授权登录
- [ ] 配置小程序打包构建
- [ ] 部署测试环境

## 💡 开发建议

1. **先测试现有功能**: 确保图书管理等基础接口正常工作
2. **逐步替换mock数据**: 用真实API替换stores中的mock实现
3. **保持向下兼容**: 确保本地开发和线上部署都能正常工作
4. **使用代码生成器**: 利用若依的代码生成功能快速创建CRUD接口

## 📞 需要帮助？

如果遇到问题，请提供：
- 浏览器控制台的错误信息
- 后端控制台日志
- 具体的操作步骤

我们将根据具体情况提供解决方案！
